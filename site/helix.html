<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>DNA CIF Viewer</title>
  <script src="https://unpkg.com/molstar@3.2.0/build/viewer/molstar.js"></script>
  <link rel="stylesheet" href="https://unpkg.com/molstar@3.2.0/build/viewer/molstar.css" />
  <style>
    body, html { margin: 0; height: 100%; overflow: hidden; }
    #app { width: 100%; height: 100vh; }
    #fileInput {
      position: absolute;
      top: 10px; left: 10px;
      z-index: 10;
      background: white;
      padding: 6px;
      border-radius: 4px;
      box-shadow: 0 0 4px rgba(0,0,0,0.2);
    }
  </style>
</head>
<body>
  <input type="file" id="fileInput" accept=".cif" />
  <div id="app"></div>

  <script>
    const viewer = new molstar.Viewer('app', {
      layoutIsExpanded: true,
      layoutShowControls: true,
      layoutShowRemoteState: false,
      layoutShowSequence: true,
      layoutShowLog: false,
      layoutShowLeftPanel: true
    });

    document.getElementById('fileInput').addEventListener('change', async (event) => {
      const file = event.target.files[0];
      if (!file) return;

      const data = await file.text();
      viewer.clear();
      viewer.loadStructureFromData(data, 'mmcif');
    });
  </script>
</body>
</html>